<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GUI.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">jacocoReport</a> &gt; <a href="index.source.html" class="el_package">net.sf.freecol.client.gui</a> &gt; <span class="el_source">GUI.java</span></div><h1>GUI.java</h1><pre class="source lang-java linenums">/**
 *  Copyright (C) 2002-2015   The FreeCol Team
 *
 *  This file is part of FreeCol.
 *
 *  FreeCol is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU General Public License as published by
 *  the Free Software Foundation, either version 2 of the License, or
 *  (at your option) any later version.
 *
 *  FreeCol is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU General Public License for more details.
 *
 *  You should have received a copy of the GNU General Public License
 *  along with FreeCol.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 */

package net.sf.freecol.client.gui;

import java.awt.Dimension;
import java.awt.Graphics2D;
import java.awt.Rectangle;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.InputStream;
import java.lang.reflect.InvocationTargetException;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;

import javax.swing.SwingUtilities;

import net.sf.freecol.client.ClientOptions;
import net.sf.freecol.client.FreeColClient;
import net.sf.freecol.client.control.InGameController;
import net.sf.freecol.client.control.InGameController.*;
import net.sf.freecol.client.gui.panel.MiniMap;
import net.sf.freecol.client.gui.panel.Parameters;
import net.sf.freecol.common.FreeColException;
import net.sf.freecol.common.debug.FreeColDebugger;
import net.sf.freecol.common.i18n.Messages;
import net.sf.freecol.common.io.FreeColDirectories;
import net.sf.freecol.common.model.Ability;
import net.sf.freecol.common.model.Building;
import net.sf.freecol.common.model.Colony;
import net.sf.freecol.common.model.DiplomaticTrade;
import net.sf.freecol.common.model.Europe;
import net.sf.freecol.common.model.FoundingFather;
import net.sf.freecol.common.model.FreeColGameObject;
import net.sf.freecol.common.model.FreeColObject;
import net.sf.freecol.common.model.Game;
import net.sf.freecol.common.model.Goods;
import net.sf.freecol.common.model.GoodsType;
import net.sf.freecol.common.model.HighScore;
import net.sf.freecol.common.model.IndianNationType;
import net.sf.freecol.common.model.IndianSettlement;
import net.sf.freecol.common.model.Location;
import net.sf.freecol.common.model.ModelMessage;
import net.sf.freecol.common.model.Monarch.MonarchAction;
import net.sf.freecol.common.model.Nation;
import net.sf.freecol.common.model.NationSummary;
import net.sf.freecol.common.model.Player;
import net.sf.freecol.common.model.Settlement;
import net.sf.freecol.common.model.Specification;
import net.sf.freecol.common.model.Stance;
import net.sf.freecol.common.model.StringTemplate;
import net.sf.freecol.common.model.Tension;
import net.sf.freecol.common.model.Tile;
import net.sf.freecol.common.model.TradeRoute;
import net.sf.freecol.common.model.Unit;
import net.sf.freecol.common.option.Option;
import net.sf.freecol.common.option.OptionGroup;
import net.sf.freecol.common.resources.ResourceManager;

/**
 * The API and common reusable functionality for the overall GUI.
 */
public class GUI {

	/** The Constant logger. */
<span class="nc" id="L85">	protected static final Logger logger = Logger.getLogger(GUI.class.getName());</span>

	/** Warning levels. */
<span class="nc" id="L88">	protected static final String levels[] = { &quot;low&quot;, &quot;normal&quot;, &quot;high&quot; };</span>

	/** View modes. */
	public static final int MOVE_UNITS_MODE = 0;

	/** The Constant VIEW_TERRAIN_MODE. */
	public static final int VIEW_TERRAIN_MODE = 1;

	/** The client for the game. */
	protected final FreeColClient freeColClient;

	/** An image library to use. */
	protected final ImageLibrary imageLibrary;

	/**
	 * Create the GUI.
	 *
	 * @param freeColClient
	 *            The &lt;code&gt;FreeColClient&lt;/code&gt; for the game.
	 * @param scaleFactor
	 *            The scale factor for the GUI.
	 */
<span class="nc" id="L110">	public GUI(FreeColClient freeColClient, float scaleFactor) {</span>
<span class="nc" id="L111">		this.freeColClient = freeColClient;</span>
<span class="nc" id="L112">		this.imageLibrary = new ImageLibrary(scaleFactor);</span>
<span class="nc" id="L113">	}</span>

	// Simple accessors

	/**
	 * Igc.
	 *
	 * @return the in game controller
	 */
	protected InGameController igc() {
<span class="nc" id="L123">		return freeColClient.getInGameController();</span>
	}

	/**
	 * Gets the image library.
	 *
	 * @return the image library
	 */
	public ImageLibrary getImageLibrary() {
<span class="nc" id="L132">		return imageLibrary;</span>
	}

	/**
	 * Checks if is windowed.
	 *
	 * @return true, if is windowed
	 */
	public boolean isWindowed() {
<span class="nc" id="L141">		return true;</span>
	}

	// Initialization related methods

	/**
	 * 
	 * Swing system and look-and-feel initialization.
	 *
	 * @param fontName
	 *            An optional font name to be used.
	 * @throws FreeColException
	 *             the free col exception
	 */
	public void installLookAndFeel(String fontName) throws FreeColException {
<span class="nc" id="L156">	}</span>

	/**
	 * Quit the GUI. All that is required is to exit the full screen.
	 *
	 * @throws Exception
	 *             the exception
	 */
	public void quit() throws Exception {
<span class="nc" id="L165">	}</span>

	/**
	 * In game initializations. Called from PreGameController.startGame().
	 *
	 * @param tile
	 *            An initial &lt;code&gt;Tile&lt;/code&gt; to select.
	 */
	public void initializeInGame(Tile tile) {
<span class="nc" id="L174">	}</span>

	/**
	 * Set up the mouse listeners for the canvas and map viewer.
	 */
	public void setupMouseListeners() {
<span class="nc" id="L180">	}</span>

	/**
	 * Display the splash screen.
	 *
	 * @param splashStream
	 *            A stream to find the image in.
	 */
	public void displaySplashScreen(final InputStream splashStream) {
<span class="nc" id="L189">	}</span>

	/**
	 * Hide the splash screen.
	 */
	public void hideSplashScreen() {
<span class="nc" id="L195">	}</span>

	/**
	 * Shows the &lt;code&gt;VideoPanel&lt;/code&gt;.
	 *
	 * @param userMsg
	 *            An optional user message.
	 */
	public void showOpeningVideo(final String userMsg) {
<span class="nc" id="L204">	}</span>

	/**
	 * Starts the GUI by creating and displaying the GUI-objects.
	 *
	 * @param desiredWindowSize
	 *            The desired size of the GUI window.
	 */
	public void startGUI(final Dimension desiredWindowSize) {
<span class="nc" id="L213">		logger.info(&quot;It seems that the GraphicsEnvironment is headless!&quot;);</span>
<span class="nc" id="L214">	}</span>

	/**
	 * Change the windowed mode.
	 */
	public void changeWindowedMode() {
<span class="nc" id="L220">	}</span>

	/**
	 * Start the GUI for the map editor.
	 */
	public void startMapEditorGUI() {
<span class="nc" id="L226">	}</span>

	// Non-trivial public routines.

	/**
	 * Start/stop the goto path display.
	 */
	public void activateGotoPath() {
<span class="nc" id="L234">	}</span>

	/**
	 * Stop the goto path display.
	 */
	public void clearGotoPath() {
<span class="nc" id="L240">	}</span>

	/**
	 * Create a thumbnail for the minimap.
	 * 
	 * FIXME: Delete all code inside this method and replace it with sensible
	 * code directly drawing in necessary size, without creating a throwaway GUI
	 * panel, drawing in wrong size and immediately resizing.
	 * 
	 * @return The created image.
	 */
	public BufferedImage createMiniMapThumbNail() {
<span class="nc" id="L252">		MiniMap miniMap = new MiniMap(freeColClient);</span>
<span class="nc" id="L253">		miniMap.setTileSize(MiniMap.MAX_TILE_SIZE);</span>
<span class="nc" id="L254">		Game game = freeColClient.getGame();</span>
<span class="nc" id="L255">		int width = game.getMap().getWidth() * MiniMap.MAX_TILE_SIZE + MiniMap.MAX_TILE_SIZE / 2;</span>
<span class="nc" id="L256">		int height = game.getMap().getHeight() * MiniMap.MAX_TILE_SIZE / 4;</span>
<span class="nc" id="L257">		BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);</span>
<span class="nc" id="L258">		Graphics2D g1 = image.createGraphics();</span>
<span class="nc" id="L259">		miniMap.paintMap(g1);</span>
<span class="nc" id="L260">		g1.dispose();</span>

<span class="nc" id="L262">		int scaledWidth = Math.min((int) ((64 * width) / (float) height), 128);</span>
<span class="nc" id="L263">		BufferedImage scaledImage = new BufferedImage(scaledWidth, 64, BufferedImage.TYPE_INT_ARGB);</span>
<span class="nc" id="L264">		Graphics2D g2 = scaledImage.createGraphics();</span>
<span class="nc" id="L265">		g2.drawImage(image, 0, 0, scaledWidth, 64, null);</span>
<span class="nc" id="L266">		g2.dispose();</span>
<span class="nc" id="L267">		return scaledImage;</span>
	}

	/**
	 * Tells the map controls that a chat message was received.
	 *
	 * @param player
	 *            The player who sent the chat message.
	 * @param message
	 *            The chat message.
	 * @param privateChat
	 *            'true' if the message is a private one, 'false' otherwise.
	 * @see GUIMessage
	 */
	public void displayChatMessage(Player player, String message, boolean privateChat) {
<span class="nc" id="L282">	}</span>

	/**
	 * Refresh the GUI.
	 */
	public void refresh() {
<span class="nc" id="L288">	}</span>

	/**
	 * Reset the menu bar.
	 */
	public void resetMenuBar() {
<span class="nc" id="L294">	}</span>

	/**
	 * Reset map zoom.
	 */
	protected void resetMapZoom() {
<span class="nc" id="L300">		ResourceManager.clean();</span>
<span class="nc" id="L301">	}</span>

	/**
	 * Can zoom in map.
	 *
	 * @return true, if successful
	 */
	public boolean canZoomInMap() {
<span class="nc" id="L309">		return false;</span>
	}

	/**
	 * Can zoom out map.
	 *
	 * @return true, if successful
	 */
	public boolean canZoomOutMap() {
<span class="nc" id="L318">		return false;</span>
	}

	/**
	 * Zoom in map.
	 */
	public void zoomInMap() {
<span class="nc" id="L325">		ResourceManager.clean();</span>
<span class="nc" id="L326">	}</span>

	/**
	 * Zoom out map.
	 */
	public void zoomOutMap() {
<span class="nc" id="L332">		ResourceManager.clean();</span>
<span class="nc" id="L333">	}</span>

	/**
	 * Set the active unit.
	 *
	 * @param unit
	 *            The &lt;code&gt;Unit&lt;/code&gt; to activate.
	 * @return true if the focus was set.
	 */
	public boolean setActiveUnit(Unit unit) {
<span class="nc" id="L343">		return false;</span>
	}

	/**
	 * Update the menu bar.
	 */
	public void updateMenuBar() {
<span class="nc" id="L350">	}</span>

	// Animation handling

	/**
	 * Require the given tile to be in the onScreen()-area.
	 *
	 * @param tile
	 *            The &lt;code&gt;Tile&lt;/code&gt; to check.
	 * @return True if the focus was set.
	 */
	public boolean requireFocus(Tile tile) {
<span class="nc" id="L362">		return false;</span>
	}

	/**
	 * Animate a unit attack.
	 *
	 * @param attacker
	 *            The attacking &lt;code&gt;Unit&lt;/code&gt;.
	 * @param defender
	 *            The defending &lt;code&gt;Unit&lt;/code&gt;.
	 * @param attackerTile
	 *            The &lt;code&gt;Tile&lt;/code&gt; to show the attacker on.
	 * @param defenderTile
	 *            The &lt;code&gt;Tile&lt;/code&gt; to show the defender on.
	 * @param success
	 *            Did the attack succeed?
	 */
	public void animateUnitAttack(Unit attacker, Unit defender, Tile attackerTile, Tile defenderTile, boolean success) {
<span class="nc" id="L380">	}</span>

	/**
	 * Animate a unit move.
	 *
	 * @param unit
	 *            The &lt;code&gt;Unit&lt;/code&gt; that is moving.
	 * @param srcTile
	 *            The &lt;code&gt;Tile&lt;/code&gt; the unit starts at.
	 * @param dstTile
	 *            The &lt;code&gt;Tile&lt;/code&gt; the unit moves to.
	 */
	public void animateUnitMove(Unit unit, Tile srcTile, Tile dstTile) {
<span class="nc" id="L393">	}</span>

	// MapControls handling

	/**
	 * Enable the map controls.
	 *
	 * Called from the MapControlsAction.
	 *
	 * @param enable
	 *            If true then enable.
	 */
	public void enableMapControls(boolean enable) {
<span class="nc" id="L406">	}</span>

	/**
	 * Update map controls.
	 */
	public void updateMapControls() {
<span class="nc" id="L412">	}</span>

	/**
	 * Zoom in map controls.
	 */
	public void zoomInMapControls() {
<span class="nc" id="L418">	}</span>

	/**
	 * Zoom out map controls.
	 */
	public void zoomOutMapControls() {
<span class="nc" id="L424">	}</span>

	/**
	 * Can zoom in map controls.
	 *
	 * @return true, if successful
	 */
	public boolean canZoomInMapControls() {
<span class="nc" id="L432">		return false;</span>
	}

	/**
	 * Can zoom out map controls.
	 *
	 * @return true, if successful
	 */
	public boolean canZoomOutMapControls() {
<span class="nc" id="L441">		return false;</span>
	}

	/**
	 * Mini map toggle view controls.
	 */
	public void miniMapToggleViewControls() {
<span class="nc" id="L448">	}</span>

	/**
	 * Mini map toggle fog of war controls.
	 */
	public void miniMapToggleFogOfWarControls() {
<span class="nc" id="L454">	}</span>

	// Dialogs that return values

	/**
	 * Simple modal confirmation dialog.
	 *
	 * @param textKey
	 *            A string to use as the message key.
	 * @param okKey
	 *            A key for the &quot;ok&quot; button.
	 * @param cancelKey
	 *            A key for the &quot;cancel&quot; button.
	 * @return True if the &quot;ok&quot; button was selected.
	 */
	public boolean confirm(String textKey, String okKey, String cancelKey) {
<span class="nc" id="L470">		return false;</span>
	}

	/**
	 * General modal confirmation dialog.
	 *
	 * @param tile
	 *            An optional &lt;code&gt;Tile&lt;/code&gt; to expose.
	 * @param template
	 *            The &lt;code&gt;StringTemplate&lt;/code&gt; explaining the choice.
	 * @param okKey
	 *            A key for the &quot;ok&quot; button.
	 * @param cancelKey
	 *            A key for the &quot;cancel&quot; button.
	 * @return True if the &quot;ok&quot; button was selected.
	 */
	public boolean confirm(Tile tile, StringTemplate template, String okKey, String cancelKey) {
<span class="nc" id="L487">		return false;</span>
	}

	/**
	 * General modal confirmation dialog.
	 *
	 * @param tile
	 *            An optional &lt;code&gt;Tile&lt;/code&gt; to expose.
	 * @param template
	 *            The &lt;code&gt;StringTemplate&lt;/code&gt; explaining the choice.
	 * @param unit
	 *            An optional unit to make an icon for the dialog from.
	 * @param okKey
	 *            A key for the &quot;ok&quot; button.
	 * @param cancelKey
	 *            A key for the &quot;cancel&quot; button.
	 * @return True if the &quot;ok&quot; button was selected.
	 */
	public boolean confirm(Tile tile, StringTemplate template, Unit unit, String okKey, String cancelKey) {
<span class="nc" id="L506">		return false;</span>
	}

	/**
	 * Confirm.
	 *
	 * @param tile
	 *            the tile
	 * @param template
	 *            the template
	 * @param settlement
	 *            the settlement
	 * @param okKey
	 *            the ok key
	 * @param cancelKey
	 *            the cancel key
	 * @return true, if successful
	 */
	public boolean confirm(Tile tile, StringTemplate template, Settlement settlement, String okKey, String cancelKey) {
<span class="nc" id="L525">		return false;</span>
	}

	/**
	 * Confirm.
	 *
	 * @param tile
	 *            the tile
	 * @param template
	 *            the template
	 * @param goodsType
	 *            the goods type
	 * @param okKey
	 *            the ok key
	 * @param cancelKey
	 *            the cancel key
	 * @return true, if successful
	 */
	public boolean confirm(Tile tile, StringTemplate template, GoodsType goodsType, String okKey, String cancelKey) {
<span class="nc" id="L544">		return false;</span>
	}

	/**
	 * Confirm that a unit should abandon its educational activity.
	 *
	 * @param unit
	 *            The &lt;code&gt;Unit&lt;/code&gt; to check.
	 * @param leaveColony
	 *            True if the unit is about to leave the colony, not just the
	 *            education building.
	 * @return True if the unit can proceed.
	 */
	public boolean confirmAbandonEducation(Unit unit, boolean leaveColony) {
<span class="nc bnc" id="L558" title="All 2 branches missed.">		if (!unit.isInColony())</span>
<span class="nc" id="L559">			return true;</span>
<span class="nc bnc" id="L560" title="All 2 branches missed.">		boolean teacher = unit.getStudent() != null;</span>
		// if leaving the colony, the student loses learning spot, so
		// check with player
<span class="nc bnc" id="L563" title="All 4 branches missed.">		boolean student = leaveColony &amp;&amp; unit.getTeacher() != null;</span>
<span class="nc bnc" id="L564" title="All 4 branches missed.">		if (!teacher &amp;&amp; !student)</span>
<span class="nc" id="L565">			return true;</span>

<span class="nc bnc" id="L567" title="All 2 branches missed.">		Building school = (Building) ((teacher) ? unit.getLocation() : unit.getTeacher().getLocation());</span>
<span class="nc" id="L568">		StringTemplate label = unit.getLabel(Unit.UnitLabelType.NATIONAL);</span>
<span class="nc bnc" id="L569" title="All 2 branches missed.">		StringTemplate template = (leaveColony)</span>
<span class="nc" id="L570">				? StringTemplate.template(&quot;abandonEducation.text&quot;).addStringTemplate(&quot;%unit%&quot;, label)</span>
<span class="nc bnc" id="L571" title="All 2 branches missed.">						.addName(&quot;%colony%&quot;, school.getColony().getName()).addNamed(&quot;%building%&quot;, school)</span>
<span class="nc bnc" id="L572" title="All 2 branches missed.">						.addStringTemplate(&quot;%action%&quot;,</span>
<span class="nc" id="L573">								(teacher) ? StringTemplate.key(&quot;abandonEducation.action.teaching&quot;)</span>
<span class="nc" id="L574">										: StringTemplate.key(&quot;abandonEducation.action.studying&quot;))</span>
<span class="nc" id="L575">				: (teacher) ? StringTemplate.template(&quot;abandonTeaching.text&quot;).addStringTemplate(&quot;%unit%&quot;, label)</span>
<span class="nc" id="L576">						.addNamed(&quot;%building%&quot;, school) : null;</span>
<span class="nc bnc" id="L577" title="All 2 branches missed.">		return template == null</span>
<span class="nc bnc" id="L578" title="All 2 branches missed.">				|| confirm(unit.getTile(), template, unit, &quot;abandonEducation.yes&quot;, &quot;abandonEducation.no&quot;);</span>
	}

	/**
	 * If a unit has a trade route, get confirmation that it is ok to clear it
	 * and set a destination.
	 *
	 * @param unit
	 *            The &lt;code&gt;Unit&lt;/code&gt; to check.
	 * @return Whether it is acceptable to set a destination for this unit.
	 */
	public boolean confirmClearTradeRoute(Unit unit) {
<span class="nc" id="L590">		TradeRoute tr = unit.getTradeRoute();</span>
<span class="nc bnc" id="L591" title="All 2 branches missed.">		if (tr == null)</span>
<span class="nc" id="L592">			return true;</span>
<span class="nc" id="L593">		StringTemplate template = StringTemplate.template(&quot;clearTradeRoute.text&quot;)</span>
<span class="nc" id="L594">				.addStringTemplate(&quot;%unit%&quot;, unit.getLabel(Unit.UnitLabelType.NATIONAL))</span>
<span class="nc" id="L595">				.addName(&quot;%route%&quot;, tr.getName());</span>
<span class="nc" id="L596">		return confirm(unit.getTile(), template, unit, &quot;yes&quot;, &quot;no&quot;);</span>
	}

	/**
	 * Confirm declaration of independence.
	 *
	 * @return A list of new nation and country names.
	 */
	public List&lt;String&gt; confirmDeclaration() {
<span class="nc" id="L605">		return Collections.&lt;String&gt;emptyList();</span>
	}

	/**
	 * Confirm whether the player wants to demand tribute from a colony.
	 *
	 * @param attacker
	 *            The potential attacking &lt;code&gt;Unit&lt;/code&gt;.
	 * @param colony
	 *            The target &lt;code&gt;Colony&lt;/code&gt;.
	 * @param ns
	 *            A &lt;code&gt;NationSummary&lt;/code&gt; of the other nation.
	 * @return The amount of tribute to demand, positive if the demand should
	 *         proceed.
	 */
	public int confirmEuropeanTribute(Unit attacker, Colony colony, NationSummary ns) {
<span class="nc" id="L621">		Player player = attacker.getOwner();</span>
<span class="nc" id="L622">		Player other = colony.getOwner();</span>
<span class="nc" id="L623">		int strength = player.calculateStrength(false);</span>
<span class="nc" id="L624">		int otherStrength = ns.getMilitaryStrength();</span>
<span class="nc bnc" id="L625" title="All 8 branches missed.">		int mil = (otherStrength &lt;= 1 || otherStrength * 5 &lt; strength) ? 0</span>
				: (strength == 0 || strength * 5 &lt; otherStrength) ? 2 : 1;

		StringTemplate t;
<span class="nc" id="L629">		int gold = ns.getGold();</span>
<span class="nc bnc" id="L630" title="All 2 branches missed.">		if (gold == 0) {</span>
<span class="nc" id="L631">			t = StringTemplate.template(&quot;confirmTribute.broke&quot;).addStringTemplate(&quot;%nation%&quot;, other.getNationLabel());</span>
<span class="nc" id="L632">			showInformationMessage(t);</span>
<span class="nc" id="L633">			return -1;</span>
		}

<span class="nc bnc" id="L636" title="All 4 branches missed.">		int fin = (gold &lt;= 100) ? 0 : (gold &lt;= 1000) ? 1 : 2;</span>
<span class="nc" id="L637">		t = StringTemplate.template(&quot;confirmTribute.european&quot;).addStringTemplate(&quot;%nation%&quot;, other.getNationLabel())</span>
<span class="nc" id="L638">				.addStringTemplate(&quot;%danger%&quot;, StringTemplate.template(&quot;danger.&quot; + levels[mil]))</span>
<span class="nc" id="L639">				.addStringTemplate(&quot;%finance%&quot;, StringTemplate.template(&quot;finance.&quot; + levels[fin]));</span>
<span class="nc" id="L640">		return showSelectTributeAmountDialog(t, gold);</span>
	}

	/**
	 * Check if an attack results in a transition from peace or cease fire to
	 * war and, if so, warn the player.
	 *
	 * @param attacker
	 *            The potential attacking &lt;code&gt;Unit&lt;/code&gt;.
	 * @param target
	 *            The target &lt;code&gt;Tile&lt;/code&gt;.
	 * @return True to attack, false to abort.
	 */
	public boolean confirmHostileAction(Unit attacker, Tile target) {
<span class="nc bnc" id="L654" title="All 2 branches missed.">		if (attacker.hasAbility(Ability.PIRACY)) {</span>
			// Privateers can attack and remain at peace
<span class="nc" id="L656">			return true;</span>
		}

		Player enemy;
<span class="nc bnc" id="L660" title="All 2 branches missed.">		if (target.hasSettlement()) {</span>
<span class="nc" id="L661">			enemy = target.getSettlement().getOwner();</span>
<span class="nc bnc" id="L662" title="All 2 branches missed.">		} else if (target == attacker.getTile()) {</span>
			// Fortify on tile owned by another nation
<span class="nc" id="L664">			enemy = target.getOwner();</span>
<span class="nc bnc" id="L665" title="All 2 branches missed.">			if (enemy == null)</span>
<span class="nc" id="L666">				return true;</span>
		} else {
<span class="nc" id="L668">			Unit defender = target.getDefendingUnit(attacker);</span>
<span class="nc bnc" id="L669" title="All 2 branches missed.">			if (defender == null) {</span>
<span class="nc" id="L670">				logger.warning(&quot;Attacking, but no defender - will try!&quot;);</span>
<span class="nc" id="L671">				return true;</span>
			}
<span class="nc bnc" id="L673" title="All 2 branches missed.">			if (defender.hasAbility(Ability.PIRACY)) {</span>
				// Privateers can be attacked and remain at peace
<span class="nc" id="L675">				return true;</span>
			}
<span class="nc" id="L677">			enemy = defender.getOwner();</span>
		}

		String messageId;
<span class="nc bnc" id="L681" title="All 4 branches missed.">		switch (attacker.getOwner().getStance(enemy)) {</span>
		case WAR:
<span class="nc" id="L683">			logger.finest(&quot;Player at war, no confirmation needed&quot;);</span>
<span class="nc" id="L684">			return true;</span>
		case CEASE_FIRE:
<span class="nc" id="L686">			messageId = &quot;confirmHostile.ceaseFire&quot;;</span>
<span class="nc" id="L687">			break;</span>
		case ALLIANCE:
<span class="nc" id="L689">			messageId = &quot;confirmHostile.alliance&quot;;</span>
<span class="nc" id="L690">			break;</span>
		case UNCONTACTED:
		case PEACE:
		default:
<span class="nc" id="L694">			messageId = &quot;confirmHostile.peace&quot;;</span>
			break;
		}
<span class="nc" id="L697">		return confirm(attacker.getTile(),</span>
<span class="nc" id="L698">				StringTemplate.template(messageId).addStringTemplate(&quot;%nation%&quot;, enemy.getNationLabel()), attacker,</span>
				&quot;confirmHostile.yes&quot;, &quot;cancel&quot;);
	}

	/**
	 * Confirm that a unit can leave its colony. - Check for population limit. -
	 * Query if education should be abandoned.
	 *
	 * @param unit
	 *            The &lt;code&gt;Unit&lt;/code&gt; that is leaving the colony.
	 * @return True if the unit is allowed to leave.
	 */
	public boolean confirmLeaveColony(Unit unit) {
<span class="nc" id="L711">		Colony colony = unit.getColony();</span>
<span class="nc" id="L712">		StringTemplate message = colony.getReducePopulationMessage();</span>
<span class="nc bnc" id="L713" title="All 2 branches missed.">		if (message != null) {</span>
<span class="nc" id="L714">			showInformationMessage(message);</span>
<span class="nc" id="L715">			return false;</span>
		}
<span class="nc" id="L717">		return confirmAbandonEducation(unit, true);</span>
	}

	/**
	 * Confirm whether the player wants to demand tribute from a native
	 * settlement.
	 *
	 * @param attacker
	 *            The potential attacking &lt;code&gt;Unit&lt;/code&gt;.
	 * @param is
	 *            The target &lt;code&gt;IndianSettlement&lt;/code&gt;.
	 * @return The amount of tribute to demand, positive if the demand should
	 *         proceed.
	 */
	public int confirmNativeTribute(Unit attacker, IndianSettlement is) {
<span class="nc" id="L732">		Player player = attacker.getOwner();</span>
<span class="nc" id="L733">		Player other = is.getOwner();</span>
<span class="nc" id="L734">		int strength = player.calculateStrength(false);</span>
<span class="nc bnc" id="L735" title="All 2 branches missed.">		String messageId = (other.getNumberOfSettlements() &gt;= strength) ? &quot;confirmTribute.unwise&quot;</span>
<span class="nc bnc" id="L736" title="All 2 branches missed.">				: (other.getStance(player) == Stance.CEASE_FIRE) ? &quot;confirmTribute.warLikely&quot;</span>
<span class="nc bnc" id="L737" title="All 2 branches missed.">						: (is.getAlarm(player).getLevel() == Tension.Level.HAPPY) ? &quot;confirmTribute.happy&quot;</span>
								: &quot;confirmTribute.normal&quot;;
<span class="nc bnc" id="L739" title="All 2 branches missed.">		return (confirm(</span>
<span class="nc" id="L740">				is.getTile(), StringTemplate.template(messageId).addName(&quot;%settlement%&quot;, is.getName())</span>
<span class="nc" id="L741">						.addStringTemplate(&quot;%nation%&quot;, other.getNationLabel()),</span>
				attacker, &quot;confirmTribute.yes&quot;, &quot;confirmTribute.no&quot;)) ? 1 : -1;
	}

	/**
	 * Shows the pre-combat dialog if enabled, allowing the user to view the
	 * odds and possibly cancel the attack.
	 *
	 * @param attacker
	 *            The attacking &lt;code&gt;Unit&lt;/code&gt;.
	 * @param tile
	 *            The target &lt;code&gt;Tile&lt;/code&gt;.
	 * @return True to attack, false to abort.
	 */
	public boolean confirmPreCombat(Unit attacker, Tile tile) {
<span class="nc bnc" id="L756" title="All 2 branches missed.">		if (freeColClient.getClientOptions().getBoolean(ClientOptions.SHOW_PRECOMBAT)) {</span>
<span class="nc" id="L757">			Settlement settlement = tile.getSettlement();</span>
			// Don't tell the player how a settlement is defended!
<span class="nc bnc" id="L759" title="All 2 branches missed.">			FreeColGameObject defender = (settlement != null) ? settlement : tile.getDefendingUnit(attacker);</span>
<span class="nc" id="L760">			return showPreCombatDialog(attacker, defender, tile);</span>
		}
<span class="nc" id="L762">		return true;</span>
	}

	/**
	 * Confirm whether to stop the current game.
	 *
	 * @return True if confirmation was given.
	 */
	public boolean confirmStopGame() {
<span class="nc" id="L771">		return confirm(&quot;stopCurrentGame.text&quot;, &quot;stopCurrentGame.yes&quot;, &quot;stopCurrentGame.no&quot;);</span>
	}

	/**
	 * Get the choice of what a user wants to do with an armed unit at a foreign
	 * settlement.
	 *
	 * @param settlement
	 *            The &lt;code&gt;Settlement&lt;/code&gt; to consider.
	 * @return The chosen action, tribute, attack or cancel.
	 */
	public ArmedUnitSettlementAction getArmedUnitSettlementChoice(Settlement settlement) {
<span class="nc" id="L783">		final Player player = freeColClient.getMyPlayer();</span>

<span class="nc" id="L785">		List&lt;ChoiceItem&lt;ArmedUnitSettlementAction&gt;&gt; choices = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L786">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;armedUnitSettlement.tribute&quot;),</span>
				ArmedUnitSettlementAction.SETTLEMENT_TRIBUTE));
<span class="nc" id="L788">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;armedUnitSettlement.attack&quot;),</span>
				ArmedUnitSettlementAction.SETTLEMENT_ATTACK));

<span class="nc" id="L791">		return getChoice(settlement.getTile(), settlement.getAlarmLevelLabel(player), settlement, &quot;cancel&quot;, choices);</span>
	}

	/**
	 * Get the user choice of whether to pay arrears for boycotted goods or to
	 * dump them instead.
	 *
	 * @param goods
	 *            The &lt;code&gt;Goods&lt;/code&gt; to possibly dump.
	 * @param europe
	 *            The player &lt;code&gt;Europe&lt;/code&gt; where the boycott is in force.
	 * @return The chosen &lt;code&gt;BoycottAction&lt;/code&gt;.
	 */
	public BoycottAction getBoycottChoice(Goods goods, Europe europe) {
<span class="nc" id="L805">		int arrears = europe.getOwner().getArrears(goods.getType());</span>
<span class="nc" id="L806">		StringTemplate template = StringTemplate.template(&quot;boycottedGoods.text&quot;).addNamed(&quot;%goods%&quot;, goods)</span>
<span class="nc" id="L807">				.addNamed(&quot;%europe%&quot;, europe).addAmount(&quot;%amount%&quot;, arrears);</span>

<span class="nc" id="L809">		List&lt;ChoiceItem&lt;BoycottAction&gt;&gt; choices = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L810">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;payArrears&quot;), BoycottAction.PAY_ARREARS));</span>
<span class="nc" id="L811">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;boycottedGoods.dumpGoods&quot;), BoycottAction.DUMP_CARGO));</span>

<span class="nc" id="L813">		return getChoice(null, template, goods.getType(), &quot;cancel&quot;, choices);</span>
	}

	/**
	 * Gets the user choice when negotiating a purchase from a settlement.
	 *
	 * @param unit
	 *            The &lt;code&gt;Unit&lt;/code&gt; that is buying.
	 * @param settlement
	 *            The &lt;code&gt;Settlement&lt;/code&gt; to buy from.
	 * @param goods
	 *            The &lt;code&gt;Goods&lt;/code&gt; to buy.
	 * @param gold
	 *            The current negotiated price.
	 * @param canBuy
	 *            True if buy is a valid option.
	 * @return The chosen action, buy, haggle, or cancel.
	 */
	public BuyAction getBuyChoice(Unit unit, Settlement settlement, Goods goods, int gold, boolean canBuy) {
<span class="nc" id="L832">		StringTemplate template = StringTemplate.template(&quot;buy.text&quot;)</span>
<span class="nc" id="L833">				.addStringTemplate(&quot;%nation%&quot;, settlement.getOwner().getNationLabel())</span>
<span class="nc" id="L834">				.addStringTemplate(&quot;%goods%&quot;, goods.getLabel(true)).addAmount(&quot;%gold%&quot;, gold);</span>

<span class="nc" id="L836">		List&lt;ChoiceItem&lt;BuyAction&gt;&gt; choices = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L837">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;buy.takeOffer&quot;), BuyAction.BUY, canBuy));</span>
<span class="nc" id="L838">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;buy.moreGold&quot;), BuyAction.HAGGLE));</span>

<span class="nc" id="L840">		return getChoice(unit.getTile(), template, goods.getType(), &quot;cancel&quot;, choices);</span>
	}

	/**
	 * Gets the user choice for claiming a tile.
	 *
	 * @param tile
	 *            The &lt;code&gt;Tile&lt;/code&gt; to claim.
	 * @param player
	 *            The &lt;code&gt;Player&lt;/code&gt; that is claiming.
	 * @param price
	 *            An asking price, if any.
	 * @param owner
	 *            The &lt;code&gt;Player&lt;/code&gt; that owns the land.
	 * @return The chosen action, accept, steal or cancel.
	 */
	public ClaimAction getClaimChoice(Tile tile, Player player, int price, Player owner) {
<span class="nc" id="L857">		List&lt;ChoiceItem&lt;ClaimAction&gt;&gt; choices = new ArrayList&lt;&gt;();</span>
		StringTemplate template;
<span class="nc bnc" id="L859" title="All 2 branches missed.">		if (owner.hasContacted(player)) {</span>
<span class="nc" id="L860">			template = StringTemplate.template(&quot;indianLand.text&quot;).addStringTemplate(&quot;%player%&quot;, owner.getNationLabel());</span>
<span class="nc" id="L861">			StringTemplate pay = StringTemplate.template(&quot;indianLand.pay&quot;).addAmount(&quot;%amount%&quot;, price);</span>
<span class="nc" id="L862">			choices.add(new ChoiceItem&lt;&gt;(Messages.message(pay), ClaimAction.ACCEPT, player.checkGold(price)));</span>
<span class="nc" id="L863">		} else {</span>
<span class="nc" id="L864">			template = StringTemplate.template(&quot;indianLand.unknown&quot;);</span>
		}

<span class="nc" id="L867">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;indianLand.take&quot;), ClaimAction.STEAL));</span>

<span class="nc" id="L869">		return getChoice(tile, template, owner.getNation(), &quot;indianLand.cancel&quot;, choices);</span>
	}

	/**
	 * Get the user choice when trading with a native settlement.
	 *
	 * @param settlement
	 *            The native settlement to trade with.
	 * @param template
	 *            A &lt;code&gt;StringTemplate&lt;/code&gt; containing the message to
	 *            display.
	 * @param canBuy
	 *            Show a &quot;buy&quot; option.
	 * @param canSell
	 *            Show a &quot;sell&quot; option.
	 * @param canGift
	 *            Show a &quot;gift&quot; option.
	 * @return The chosen action, buy, sell, gift or cancel.
	 */
	public TradeAction getIndianSettlementTradeChoice(Settlement settlement, StringTemplate template, boolean canBuy,
			boolean canSell, boolean canGift) {

<span class="nc" id="L891">		ArrayList&lt;ChoiceItem&lt;TradeAction&gt;&gt; choices = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L892" title="All 2 branches missed.">		if (canBuy) {</span>
<span class="nc" id="L893">			choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;tradeProposition.toBuy&quot;), TradeAction.BUY, canBuy));</span>
		}
<span class="nc bnc" id="L895" title="All 2 branches missed.">		if (canSell) {</span>
<span class="nc" id="L896">			choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;tradeProposition.toSell&quot;), TradeAction.SELL, canSell));</span>
		}
<span class="nc bnc" id="L898" title="All 2 branches missed.">		if (canGift) {</span>
<span class="nc" id="L899">			choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;tradeProposition.toGift&quot;), TradeAction.GIFT, canGift));</span>
		}
<span class="nc bnc" id="L901" title="All 2 branches missed.">		if (choices.isEmpty())</span>
<span class="nc" id="L902">			return null;</span>

<span class="nc" id="L904">		return getChoice(settlement.getTile(), template, settlement, &quot;cancel&quot;, choices);</span>
	}

	/**
	 * Get the user choice of what to do with a missionary at a native
	 * settlement.
	 *
	 * @param unit
	 *            The &lt;code&gt;Unit&lt;/code&gt; speaking to the settlement.
	 * @param settlement
	 *            The &lt;code&gt;IndianSettlement&lt;/code&gt; being visited.
	 * @param canEstablish
	 *            Is establish a valid option.
	 * @param canDenounce
	 *            Is denounce a valid option.
	 * @return The chosen action, establish mission, denounce, incite or cancel.
	 */
	public MissionaryAction getMissionaryChoice(Unit unit, IndianSettlement settlement, boolean canEstablish,
			boolean canDenounce) {
<span class="nc" id="L923">		StringTemplate template = StringTemplate.label(&quot;\n\n&quot;)</span>
<span class="nc" id="L924">				.addStringTemplate(settlement.getAlarmLevelLabel(unit.getOwner())).addStringTemplate(StringTemplate</span>
<span class="nc" id="L925">						.template(&quot;missionarySettlement.question&quot;).addName(&quot;%settlement%&quot;, settlement.getName()));</span>

<span class="nc" id="L927">		List&lt;ChoiceItem&lt;MissionaryAction&gt;&gt; choices = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L928" title="All 2 branches missed.">		if (canEstablish) {</span>
<span class="nc" id="L929">			choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;missionarySettlement.establish&quot;),</span>
					MissionaryAction.ESTABLISH_MISSION, canEstablish));
		}
<span class="nc bnc" id="L932" title="All 2 branches missed.">		if (canDenounce) {</span>
<span class="nc" id="L933">			choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;missionarySettlement.heresy&quot;),</span>
					MissionaryAction.DENOUNCE_HERESY, canDenounce));
		}
<span class="nc" id="L936">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;missionarySettlement.incite&quot;), MissionaryAction.INCITE_INDIANS));</span>

<span class="nc" id="L938">		return getChoice(unit.getTile(), template, settlement, &quot;cancel&quot;, choices);</span>
	}

	/**
	 * Get a name for a new colony for a player.
	 *
	 * @param player
	 *            The &lt;code&gt;Player&lt;/code&gt; to get the colony name for.
	 * @param tile
	 *            The &lt;code&gt;Tile&lt;/code&gt; for the new colony.
	 * @return A colony name, or null if the user has reconsidered.
	 */
	public String getNewColonyName(Player player, Tile tile) {
<span class="nc" id="L951">		String suggested = player.getSettlementName(null);</span>
<span class="nc" id="L952">		String name = getInput(tile, StringTemplate.template(&quot;nameColony.text&quot;), suggested, &quot;accept&quot;, &quot;cancel&quot;);</span>
<span class="nc bnc" id="L953" title="All 2 branches missed.">		if (name == null) {</span>
			// Cancelled
<span class="nc bnc" id="L955" title="All 2 branches missed.">		} else if (name.isEmpty()) {</span>
<span class="nc" id="L956">			showInformationMessage(&quot;enterSomeText&quot;); // 0-length is invalid</span>
<span class="nc bnc" id="L957" title="All 2 branches missed.">		} else if (player.getSettlementByName(name) != null) {</span>
			// Must be unique
<span class="nc" id="L959">			showInformationMessage(tile, StringTemplate.template(&quot;nameColony.notUnique&quot;).addName(&quot;%name%&quot;, name));</span>
		} else {
<span class="nc" id="L961">			return name;</span>
		}
<span class="nc" id="L963">		player.putSettlementName(suggested);</span>
<span class="nc" id="L964">		return null;</span>
	}

	/**
	 * Get the user choice for what to do with a scout at a foreign colony.
	 *
	 * @param colony
	 *            The &lt;code&gt;Colony&lt;/code&gt; to be scouted.
	 * @param unit
	 *            The &lt;code&gt;Unit&lt;/code&gt; that is scouting.
	 * @param neg
	 *            True if negotation is a valid choice.
	 * @return The selected action, either negotiate, spy, attack or cancel.
	 */
	public ScoutColonyAction getScoutForeignColonyChoice(Colony colony, Unit unit, boolean neg) {
<span class="nc" id="L979">		StringTemplate template = StringTemplate.template(&quot;scoutColony.text&quot;)</span>
<span class="nc" id="L980">				.addStringTemplate(&quot;%unit%&quot;, unit.getLabel(Unit.UnitLabelType.NATIONAL))</span>
<span class="nc" id="L981">				.addName(&quot;%colony%&quot;, colony.getName());</span>

<span class="nc" id="L983">		List&lt;ChoiceItem&lt;ScoutColonyAction&gt;&gt; choices = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L984">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;scoutColony.negotiate&quot;),</span>
				ScoutColonyAction.FOREIGN_COLONY_NEGOTIATE, neg));
<span class="nc" id="L986">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;scoutColony.spy&quot;), ScoutColonyAction.FOREIGN_COLONY_SPY));</span>
<span class="nc" id="L987">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;scoutColony.attack&quot;), ScoutColonyAction.FOREIGN_COLONY_ATTACK));</span>

<span class="nc" id="L989">		return getChoice(unit.getTile(), template, colony, &quot;cancel&quot;, choices);</span>
	}

	/**
	 * Get the user choice for what to do at a native settlement.
	 *
	 * @param settlement
	 *            The &lt;code&gt;IndianSettlement&lt;/code&gt; to be scouted.
	 * @param numberString
	 *            The number of settlements in the settlement owner nation.
	 * @return The chosen action, speak, tribute, attack or cancel.
	 */
	public ScoutIndianSettlementAction getScoutIndianSettlementChoice(IndianSettlement settlement,
			String numberString) {
<span class="nc" id="L1003">		final Player player = freeColClient.getMyPlayer();</span>
<span class="nc" id="L1004">		final Player owner = settlement.getOwner();</span>

<span class="nc" id="L1006">		StringTemplate template = StringTemplate.label(&quot;&quot;).addStringTemplate(settlement.getAlarmLevelLabel(player))</span>
<span class="nc" id="L1007">				.addName(&quot;\n\n&quot;)</span>
<span class="nc" id="L1008">				.addStringTemplate(StringTemplate.template(&quot;scoutSettlement.greetings&quot;)</span>
<span class="nc" id="L1009">						.addStringTemplate(&quot;%nation%&quot;, owner.getNationLabel())</span>
<span class="nc" id="L1010">						.addName(&quot;%settlement%&quot;, settlement.getName()).addName(&quot;%number%&quot;, numberString)</span>
<span class="nc" id="L1011">						.add(&quot;%settlementType%&quot;, ((IndianNationType) owner.getNationType()).getSettlementTypeKey(true)))</span>
<span class="nc" id="L1012">				.addName(&quot; &quot;);</span>
<span class="nc bnc" id="L1013" title="All 2 branches missed.">		if (settlement.getLearnableSkill() != null) {</span>
<span class="nc" id="L1014">			template.addStringTemplate(StringTemplate.template(&quot;scoutSettlement.skill&quot;).addNamed(&quot;%skill%&quot;,</span>
<span class="nc" id="L1015">					settlement.getLearnableSkill())).addName(&quot; &quot;);</span>
		}
<span class="nc" id="L1017">		GoodsType[] wantedGoods = settlement.getWantedGoods();</span>
<span class="nc" id="L1018">		int present = 0;</span>
<span class="nc bnc" id="L1019" title="All 2 branches missed.">		for (; present &lt; wantedGoods.length; present++) {</span>
<span class="nc bnc" id="L1020" title="All 2 branches missed.">			if (wantedGoods[present] == null)</span>
<span class="nc" id="L1021">				break;</span>
		}
<span class="nc bnc" id="L1023" title="All 2 branches missed.">		if (present &gt; 0) {</span>
<span class="nc" id="L1024">			StringTemplate t = StringTemplate.template(&quot;scoutSettlement.trade.&quot; + Integer.toString(present));</span>
<span class="nc bnc" id="L1025" title="All 2 branches missed.">			for (int i = 0; i &lt; present; i++) {</span>
<span class="nc" id="L1026">				String tradeKey = &quot;%goods&quot; + Integer.toString(i + 1) + &quot;%&quot;;</span>
<span class="nc" id="L1027">				t.addNamed(tradeKey, wantedGoods[i]);</span>
			}
<span class="nc" id="L1029">			template.addStringTemplate(t).addName(&quot;\n\n&quot;);</span>
		}

<span class="nc" id="L1032">		List&lt;ChoiceItem&lt;ScoutIndianSettlementAction&gt;&gt; choices = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L1033">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;scoutSettlement.speak&quot;),</span>
				ScoutIndianSettlementAction.INDIAN_SETTLEMENT_SPEAK));
<span class="nc" id="L1035">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;scoutSettlement.tribute&quot;),</span>
				ScoutIndianSettlementAction.INDIAN_SETTLEMENT_TRIBUTE));
<span class="nc" id="L1037">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;scoutSettlement.attack&quot;),</span>
				ScoutIndianSettlementAction.INDIAN_SETTLEMENT_ATTACK));

<span class="nc" id="L1040">		return getChoice(settlement.getTile(), template, settlement, &quot;cancel&quot;, choices);</span>
	}

	/**
	 * Get the user choice for negotiating a sale to a settlement.
	 *
	 * @param unit
	 *            The &lt;code&gt;Unit&lt;/code&gt; that is selling.
	 * @param settlement
	 *            The &lt;code&gt;Settlement&lt;/code&gt; to sell to.
	 * @param goods
	 *            The &lt;code&gt;Goods&lt;/code&gt; to sell.
	 * @param gold
	 *            The current negotiated price.
	 * @return The chosen action, sell, gift or haggle, or null.
	 */
	public SellAction getSellChoice(Unit unit, Settlement settlement, Goods goods, int gold) {
<span class="nc" id="L1057">		StringTemplate goodsTemplate = goods.getLabel(true);</span>
<span class="nc" id="L1058">		StringTemplate template = StringTemplate.template(&quot;sell.text&quot;)</span>
<span class="nc" id="L1059">				.addStringTemplate(&quot;%nation%&quot;, settlement.getOwner().getNationLabel())</span>
<span class="nc" id="L1060">				.addStringTemplate(&quot;%goods%&quot;, goodsTemplate).addAmount(&quot;%gold%&quot;, gold);</span>

<span class="nc" id="L1062">		List&lt;ChoiceItem&lt;SellAction&gt;&gt; choices = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L1063">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;sell.takeOffer&quot;), SellAction.SELL));</span>
<span class="nc" id="L1064">		choices.add(new ChoiceItem&lt;&gt;(Messages.message(&quot;sell.moreGold&quot;), SellAction.HAGGLE));</span>
<span class="nc" id="L1065">		choices.add(new ChoiceItem&lt;&gt;(</span>
<span class="nc" id="L1066">				Messages.message(StringTemplate.template(&quot;sell.gift&quot;).addStringTemplate(&quot;%goods%&quot;, goodsTemplate)),</span>
				SellAction.GIFT));

<span class="nc" id="L1069">		return getChoice(unit.getTile(), template, goods.getType(), &quot;cancel&quot;, choices);</span>
	}

	/**
	 * General modal choice dialog.
	 *
	 * @param &lt;T&gt;
	 *            the generic type
	 * @param tile
	 *            An optional &lt;code&gt;Tile&lt;/code&gt; to expose.
	 * @param explain
	 *            An object explaining the choice.
	 * @param cancelKey
	 *            A key for the &quot;cancel&quot; button.
	 * @param choices
	 *            A list a &lt;code&gt;ChoiceItem&lt;/code&gt;s to choose from.
	 * @return The selected value of the selected &lt;code&gt;ChoiceItem&lt;/code&gt;, or
	 *         null if cancelled.
	 */
	public &lt;T&gt; T getChoice(Tile tile, Object explain, String cancelKey, List&lt;ChoiceItem&lt;T&gt;&gt; choices) {
<span class="nc" id="L1089">		return null;</span>
	}

	/**
	 * Gets the choice.
	 *
	 * @param &lt;T&gt;
	 *            the generic type
	 * @param tile
	 *            the tile
	 * @param explain
	 *            the explain
	 * @param unit
	 *            the unit
	 * @param cancelKey
	 *            the cancel key
	 * @param choices
	 *            the choices
	 * @return the choice
	 */
	public &lt;T&gt; T getChoice(Tile tile, Object explain, Unit unit, String cancelKey, List&lt;ChoiceItem&lt;T&gt;&gt; choices) {
<span class="nc" id="L1110">		return null;</span>
	}

	/**
	 * Gets the choice.
	 *
	 * @param &lt;T&gt;
	 *            the generic type
	 * @param tile
	 *            the tile
	 * @param explain
	 *            the explain
	 * @param settlement
	 *            the settlement
	 * @param cancelKey
	 *            the cancel key
	 * @param choices
	 *            the choices
	 * @return the choice
	 */
	public &lt;T&gt; T getChoice(Tile tile, Object explain, Settlement settlement, String cancelKey,
			List&lt;ChoiceItem&lt;T&gt;&gt; choices) {
<span class="nc" id="L1132">		return null;</span>
	}

	/**
	 * Gets the choice.
	 *
	 * @param &lt;T&gt;
	 *            the generic type
	 * @param tile
	 *            the tile
	 * @param explain
	 *            the explain
	 * @param goodsType
	 *            the goods type
	 * @param cancelKey
	 *            the cancel key
	 * @param choices
	 *            the choices
	 * @return the choice
	 */
	public &lt;T&gt; T getChoice(Tile tile, Object explain, GoodsType goodsType, String cancelKey,
			List&lt;ChoiceItem&lt;T&gt;&gt; choices) {
<span class="nc" id="L1154">		return null;</span>
	}

	/**
	 * Gets the choice.
	 *
	 * @param &lt;T&gt;
	 *            the generic type
	 * @param tile
	 *            the tile
	 * @param explain
	 *            the explain
	 * @param nation
	 *            the nation
	 * @param cancelKey
	 *            the cancel key
	 * @param choices
	 *            the choices
	 * @return the choice
	 */
	public &lt;T&gt; T getChoice(Tile tile, Object explain, Nation nation, String cancelKey, List&lt;ChoiceItem&lt;T&gt;&gt; choices) {
<span class="nc" id="L1175">		return null;</span>
	}

	/**
	 * General modal string input dialog.
	 *
	 * @param tile
	 *            An optional &lt;code&gt;Tile&lt;/code&gt; to expose.
	 * @param template
	 *            A &lt;code&gt;StringTemplate&lt;/code&gt; explaining the choice.
	 * @param defaultValue
	 *            The default value to show initially.
	 * @param okKey
	 *            A key for the &quot;ok&quot; button.
	 * @param cancelKey
	 *            A key for the &quot;cancel&quot; button.
	 * @return The chosen value.
	 */
	public String getInput(Tile tile, StringTemplate template, String defaultValue, String okKey, String cancelKey) {
<span class="nc" id="L1194">		return null;</span>
	}

	/**
	 * Close main panel.
	 */
	public void closeMainPanel() {
<span class="nc" id="L1201">	}</span>

	/**
	 * Close menus.
	 */
	public void closeMenus() {
<span class="nc" id="L1207">	}</span>

	/**
	 * Close status panel.
	 */
	public void closeStatusPanel() {
<span class="nc" id="L1213">	}</span>

	/**
	 * Contains in game components.
	 *
	 * @return true, if successful
	 */
	public boolean containsInGameComponents() {
<span class="nc" id="L1221">		return false;</span>
	}

	/**
	 * Gets the loading savegame info.
	 *
	 * @return the loading savegame info
	 */
	public LoadingSavegameInfo getLoadingSavegameInfo() {
<span class="nc" id="L1230">		return null;</span>
	}

	/**
	 * Checks if is client options dialog showing.
	 *
	 * @return true, if is client options dialog showing
	 */
	public boolean isClientOptionsDialogShowing() {
<span class="nc" id="L1239">		return false;</span>
	}

	/**
	 * Checks if is mapboard actions enabled.
	 *
	 * @return true, if is mapboard actions enabled
	 */
	public boolean isMapboardActionsEnabled() {
<span class="nc" id="L1248">		return false;</span>
	}

	/**
	 * Checks if is showing sub panel.
	 *
	 * @return true, if is showing sub panel
	 */
	public boolean isShowingSubPanel() {
<span class="nc" id="L1257">		return false;</span>
	}

	/**
	 * Paint immediately canvas in.
	 *
	 * @param rectangle
	 *            the rectangle
	 */
	public void paintImmediatelyCanvasIn(Rectangle rectangle) {
<span class="nc" id="L1267">	}</span>

	/**
	 * Paint immediately canvas in its bounds.
	 */
	public void paintImmediatelyCanvasInItsBounds() {
<span class="nc" id="L1273">	}</span>

	/**
	 * Refresh players table.
	 */
	public void refreshPlayersTable() {
<span class="nc" id="L1279">	}</span>

	/**
	 * Removes the in game components.
	 */
	public void removeInGameComponents() {
<span class="nc" id="L1285">	}</span>

	/**
	 * Request focus for sub panel.
	 */
	public void requestFocusForSubPanel() {
<span class="nc" id="L1291">	}</span>

	/**
	 * Request focus in window.
	 *
	 * @return true, if successful
	 */
	public boolean requestFocusInWindow() {
<span class="nc" id="L1299">		return false;</span>
	}

	/**
	 * Return to title.
	 */
	public void returnToTitle() {
<span class="nc" id="L1306">	}</span>

	/**
	 * Show about panel.
	 */
	public void showAboutPanel() {
<span class="nc" id="L1312">	}</span>

	/**
	 * Show capture goods dialog.
	 *
	 * @param unit
	 *            the unit
	 * @param gl
	 *            the gl
	 * @param handler
	 *            the handler
	 */
	public void showCaptureGoodsDialog(final Unit unit, List&lt;Goods&gt; gl, DialogHandler&lt;List&lt;Goods&gt;&gt; handler) {
<span class="nc" id="L1325">	}</span>

	/**
	 * Show chat panel.
	 */
	public void showChatPanel() {
<span class="nc" id="L1331">	}</span>

	/**
	 * Show choose founding father dialog.
	 *
	 * @param ffs
	 *            the ffs
	 * @param handler
	 *            the handler
	 */
	public void showChooseFoundingFatherDialog(final List&lt;FoundingFather&gt; ffs, DialogHandler&lt;FoundingFather&gt; handler) {
<span class="nc" id="L1342">	}</span>

	/**
	 * Show client options dialog.
	 */
	public void showClientOptionsDialog() {
<span class="nc" id="L1348">	}</span>

	/**
	 * Display the appropriate panel for a given settlement.
	 *
	 * @param settlement
	 *            The &lt;code&gt;Settlement&lt;/code&gt; to display.
	 */
	void showSettlement(Settlement settlement) {
<span class="nc bnc" id="L1357" title="All 2 branches missed.">		if (settlement instanceof Colony) {</span>
<span class="nc bnc" id="L1358" title="All 2 branches missed.">			if (settlement.getOwner().equals(freeColClient.getMyPlayer())) {</span>
<span class="nc" id="L1359">				showColonyPanel((Colony) settlement, null);</span>
<span class="nc bnc" id="L1360" title="All 2 branches missed.">			} else if (FreeColDebugger.isInDebugMode(FreeColDebugger.DebugMode.MENUS)) {</span>
<span class="nc" id="L1361">				showForeignColony(settlement);</span>
			}
<span class="nc bnc" id="L1363" title="All 2 branches missed.">		} else if (settlement instanceof IndianSettlement) {</span>
<span class="nc" id="L1364">			showIndianSettlementPanel((IndianSettlement) settlement);</span>
		} else {
<span class="nc" id="L1366">			throw new IllegalStateException(&quot;Bogus settlement&quot;);</span>
		}
<span class="nc" id="L1368">	}</span>

	/**
	 * Show foreign colony.
	 *
	 * @param settlement
	 *            the settlement
	 */
	protected void showForeignColony(Settlement settlement) {
<span class="nc" id="L1377">	}</span>

	/**
	 * Show colony panel.
	 *
	 * @param colony
	 *            the colony
	 * @param unit
	 *            the unit
	 */
	public void showColonyPanel(Colony colony, Unit unit) {
<span class="nc" id="L1388">	}</span>

	/**
	 * Show colopedia panel.
	 *
	 * @param nodeId
	 *            the node id
	 */
	public void showColopediaPanel(String nodeId) {
<span class="nc" id="L1397">	}</span>

	/**
	 * Show compact labour report.
	 */
	public void showCompactLabourReport() {
<span class="nc" id="L1403">	}</span>

	/**
	 * Show declaration panel.
	 */
	public void showDeclarationPanel() {
<span class="nc" id="L1409">	}</span>

	/**
	 * Show difficulty dialog.
	 *
	 * @return the option group
	 */
	public OptionGroup showDifficultyDialog() {
<span class="nc" id="L1417">		return null;</span>
	}

	/**
	 * Show dump cargo dialog.
	 *
	 * @param unit
	 *            the unit
	 * @param handler
	 *            the handler
	 */
	public void showDumpCargoDialog(Unit unit, DialogHandler&lt;List&lt;Goods&gt;&gt; handler) {
<span class="nc" id="L1429">	}</span>

	/**
	 * Show edit option dialog.
	 *
	 * @param option
	 *            the option
	 * @return true, if successful
	 */
	public boolean showEditOptionDialog(Option option) {
<span class="nc" id="L1439">		return false;</span>
	}

	/**
	 * Show emigration dialog.
	 *
	 * @param player
	 *            the player
	 * @param fountainOfYouth
	 *            the fountain of youth
	 * @param handler
	 *            the handler
	 */
	public void showEmigrationDialog(final Player player, final boolean fountainOfYouth,
			DialogHandler&lt;Integer&gt; handler) {
<span class="nc" id="L1454">	}</span>

	/**
	 * Show end turn dialog.
	 *
	 * @param units
	 *            the units
	 * @param handler
	 *            the handler
	 */
	public void showEndTurnDialog(final List&lt;Unit&gt; units, DialogHandler&lt;Boolean&gt; handler) {
<span class="nc" id="L1465">	}</span>

	/**
	 * Show error message.
	 *
	 * @param template
	 *            the template
	 */
	public void showErrorMessage(StringTemplate template) {
<span class="nc" id="L1474">	}</span>

	/**
	 * Show error message.
	 *
	 * @param messageId
	 *            the message id
	 */
	public void showErrorMessage(String messageId) {
<span class="nc" id="L1483">	}</span>

	/**
	 * Show error message.
	 *
	 * @param messageID
	 *            the message ID
	 * @param message
	 *            the message
	 */
	public void showErrorMessage(String messageID, String message) {
<span class="nc" id="L1494">	}</span>

	/**
	 * Show europe panel.
	 */
	public void showEuropePanel() {
<span class="nc" id="L1500">	}</span>

	/**
	 * Show event panel.
	 *
	 * @param header
	 *            the header
	 * @param image
	 *            the image
	 * @param footer
	 *            the footer
	 */
	public void showEventPanel(String header, String image, String footer) {
<span class="nc" id="L1513">	}</span>

	/**
	 * Show find settlement panel.
	 */
	public void showFindSettlementPanel() {
<span class="nc" id="L1519">	}</span>

	/**
	 * Show game options dialog.
	 *
	 * @param editable
	 *            the editable
	 * @param custom
	 *            the custom
	 * @return the option group
	 */
	public OptionGroup showGameOptionsDialog(boolean editable, boolean custom) {
<span class="nc" id="L1531">		return null;</span>
	}

	/**
	 * Show high scores panel.
	 *
	 * @param messageId
	 *            the message id
	 * @param scores
	 *            the scores
	 */
	public void showHighScoresPanel(String messageId, List&lt;HighScore&gt; scores) {
<span class="nc" id="L1543">	}</span>

	/**
	 * Show indian settlement panel.
	 *
	 * @param indianSettlement
	 *            the indian settlement
	 */
	public void showIndianSettlementPanel(IndianSettlement indianSettlement) {
<span class="nc" id="L1552">	}</span>

	/**
	 * Show information message.
	 *
	 * @param messageId
	 *            the message id
	 */
	public void showInformationMessage(String messageId) {
<span class="nc" id="L1561">		alertSound();</span>
<span class="nc" id="L1562">	}</span>

	/**
	 * Show information message.
	 *
	 * @param template
	 *            the template
	 */
	public void showInformationMessage(StringTemplate template) {
<span class="nc" id="L1571">		alertSound();</span>
<span class="nc" id="L1572">	}</span>

	/**
	 * Show information message.
	 *
	 * @param displayObject
	 *            the display object
	 * @param messageId
	 *            the message id
	 */
	final public void showInformationMessage(Settlement displayObject, String messageId) {
<span class="nc" id="L1583">		showInformationMessage(displayObject, StringTemplate.key(messageId));</span>
<span class="nc" id="L1584">	}</span>

	/**
	 * Show information message.
	 *
	 * @param displayObject
	 *            the display object
	 * @param template
	 *            the template
	 */
	public void showInformationMessage(Settlement displayObject, StringTemplate template) {
<span class="nc" id="L1595">		alertSound();</span>
<span class="nc" id="L1596">	}</span>

	/**
	 * Show information message.
	 *
	 * @param displayObject
	 *            the display object
	 * @param template
	 *            the template
	 */
	public void showInformationMessage(Unit displayObject, StringTemplate template) {
<span class="nc" id="L1607">		alertSound();</span>
<span class="nc" id="L1608">	}</span>

	/**
	 * Show information message.
	 *
	 * @param displayObject
	 *            the display object
	 * @param messageId
	 *            the message id
	 */
	final public void showInformationMessage(Tile displayObject, String messageId) {
<span class="nc" id="L1619">		showInformationMessage(displayObject, StringTemplate.key(messageId));</span>
<span class="nc" id="L1620">	}</span>

	/**
	 * Show information message.
	 *
	 * @param displayObject
	 *            the display object
	 * @param template
	 *            the template
	 */
	public void showInformationMessage(Tile displayObject, StringTemplate template) {
<span class="nc" id="L1631">		alertSound();</span>
<span class="nc" id="L1632">	}</span>

	/**
	 * Show information message.
	 *
	 * @param displayObject
	 *            the display object
	 * @param messageId
	 *            the message id
	 */
	public void showInformationMessage(FreeColObject displayObject, String messageId) {
<span class="nc" id="L1643">		alertSound();</span>
<span class="nc" id="L1644">	}</span>

	/**
	 * Show information message.
	 *
	 * @param displayObject
	 *            the display object
	 * @param template
	 *            the template
	 */
	public void showInformationMessage(FreeColObject displayObject, StringTemplate template) {
<span class="nc" id="L1655">		alertSound();</span>
<span class="nc" id="L1656">	}</span>

	/**
	 * Show load dialog.
	 *
	 * @param directory
	 *            the directory
	 * @return the file
	 */
	public File showLoadDialog(File directory) {
<span class="nc" id="L1666">		return null;</span>
	}

	/**
	 * Show load save file dialog.
	 *
	 * @return the file
	 */
	final public File showLoadSaveFileDialog() {
<span class="nc" id="L1675">		File file = showLoadDialog(FreeColDirectories.getSaveDirectory());</span>
<span class="nc bnc" id="L1676" title="All 4 branches missed.">		if (file != null &amp;&amp; !file.isFile()) {</span>
<span class="nc" id="L1677">			showErrorMessage(&quot;error.noSuchFile&quot;);</span>
<span class="nc" id="L1678">			file = null;</span>
		}
<span class="nc" id="L1680">		return file;</span>
	}

	/**
	 * Show loading savegame dialog.
	 *
	 * @param publicServer
	 *            the public server
	 * @param singlePlayer
	 *            the single player
	 * @return true, if successful
	 */
	public boolean showLoadingSavegameDialog(boolean publicServer, boolean singlePlayer) {
<span class="nc" id="L1693">		return false;</span>
	}

	/**
	 * Show log file panel.
	 */
	public void showLogFilePanel() {
<span class="nc" id="L1700">	}</span>

	/**
	 * Show main panel.
	 *
	 * @param userMsg
	 *            the user msg
	 */
	public void showMainPanel(String userMsg) {
<span class="nc" id="L1709">	}</span>

	/**
	 * Show map generator options dialog.
	 *
	 * @param editable
	 *            the editable
	 * @return the option group
	 */
	public OptionGroup showMapGeneratorOptionsDialog(boolean editable) {
<span class="nc" id="L1719">		return null;</span>
	}

	/**
	 * Show map size dialog.
	 *
	 * @return the dimension
	 */
	public Dimension showMapSizeDialog() {
<span class="nc" id="L1728">		return null;</span>
	}

	/**
	 * Show model messages.
	 *
	 * @param modelMessages
	 *            the model messages
	 */
	public void showModelMessages(List&lt;ModelMessage&gt; modelMessages) {
<span class="nc" id="L1738">	}</span>

	/**
	 * Show monarch dialog.
	 *
	 * @param action
	 *            the action
	 * @param template
	 *            the template
	 * @param monarchKey
	 *            the monarch key
	 * @param handler
	 *            the handler
	 */
	public void showMonarchDialog(final MonarchAction action, StringTemplate template, String monarchKey,
			DialogHandler&lt;Boolean&gt; handler) {
<span class="nc" id="L1754">	}</span>

	/**
	 * Show naming dialog.
	 *
	 * @param template
	 *            the template
	 * @param defaultName
	 *            the default name
	 * @param unit
	 *            the unit
	 * @param handler
	 *            the handler
	 */
	public void showNamingDialog(StringTemplate template, final String defaultName, final Unit unit,
			DialogHandler&lt;String&gt; handler) {
<span class="nc" id="L1770">	}</span>

	/**
	 * Show first contact dialog.
	 *
	 * @param player
	 *            the player
	 * @param other
	 *            the other
	 * @param tile
	 *            the tile
	 * @param settlementCount
	 *            the settlement count
	 * @param handler
	 *            the handler
	 */
	public void showFirstContactDialog(final Player player, final Player other, final Tile tile, int settlementCount,
			DialogHandler&lt;Boolean&gt; handler) {
<span class="nc" id="L1788">	}</span>

	/**
	 * Show negotiation dialog.
	 *
	 * @param our
	 *            the our
	 * @param other
	 *            the other
	 * @param agreement
	 *            the agreement
	 * @param comment
	 *            the comment
	 * @return the diplomatic trade
	 */
	public DiplomaticTrade showNegotiationDialog(FreeColGameObject our, FreeColGameObject other,
			DiplomaticTrade agreement, StringTemplate comment) {
<span class="nc" id="L1805">		return null;</span>
	}

	/**
	 * Show new panel.
	 */
	public void showNewPanel() {
<span class="nc" id="L1812">	}</span>

	/**
	 * Show new panel.
	 *
	 * @param specification
	 *            the specification
	 */
	public void showNewPanel(Specification specification) {
<span class="nc" id="L1821">	}</span>

	/**
	 * Show spy colony panel.
	 *
	 * @param tile
	 *            the tile
	 * @param callback
	 *            the callback
	 */
	public void showSpyColonyPanel(final Tile tile, Runnable callback) {
<span class="nc" id="L1832">	}</span>

	/**
	 * Show parameters dialog.
	 *
	 * @return the parameters
	 */
	public Parameters showParametersDialog() {
<span class="nc" id="L1840">		return null;</span>
	}

	/**
	 * Show pre combat dialog.
	 *
	 * @param attacker
	 *            the attacker
	 * @param defender
	 *            the defender
	 * @param tile
	 *            the tile
	 * @return true, if successful
	 */
	public boolean showPreCombatDialog(Unit attacker, FreeColGameObject defender, Tile tile) {
<span class="nc" id="L1855">		return false;</span>
	}

	/**
	 * Show report cargo panel.
	 */
	public void showReportCargoPanel() {
<span class="nc" id="L1862">	}</span>

	/**
	 * Show report colony panel.
	 */
	public void showReportColonyPanel() {
<span class="nc" id="L1868">	}</span>

	/**
	 * Show report continental congress panel.
	 */
	public void showReportContinentalCongressPanel() {
<span class="nc" id="L1874">	}</span>

	/**
	 * Show report education panel.
	 */
	public void showReportEducationPanel() {
<span class="nc" id="L1880">	}</span>

	/**
	 * Show report exploration panel.
	 */
	public void showReportExplorationPanel() {
<span class="nc" id="L1886">	}</span>

	/**
	 * Show report foreign affair panel.
	 */
	public void showReportForeignAffairPanel() {
<span class="nc" id="L1892">	}</span>

	/**
	 * Show report history panel.
	 */
	public void showReportHistoryPanel() {
<span class="nc" id="L1898">	}</span>

	/**
	 * Show report indian panel.
	 */
	public void showReportIndianPanel() {
<span class="nc" id="L1904">	}</span>

	/**
	 * Show report labour panel.
	 */
	public void showReportLabourPanel() {
<span class="nc" id="L1910">	}</span>

	/**
	 * Show report military panel.
	 */
	public void showReportMilitaryPanel() {
<span class="nc" id="L1916">	}</span>

	/**
	 * Show report naval panel.
	 */
	public void showReportNavalPanel() {
<span class="nc" id="L1922">	}</span>

	/**
	 * Show report production panel.
	 */
	public void showReportProductionPanel() {
<span class="nc" id="L1928">	}</span>

	/**
	 * Show report religious panel.
	 */
	public void showReportReligiousPanel() {
<span class="nc" id="L1934">	}</span>

	/**
	 * Show report requirements panel.
	 */
	public void showReportRequirementsPanel() {
<span class="nc" id="L1940">	}</span>

	/**
	 * Show report trade panel.
	 */
	public void showReportTradePanel() {
<span class="nc" id="L1946">	}</span>

	/**
	 * Show report turn panel.
	 *
	 * @param messages
	 *            the messages
	 */
	public void showReportTurnPanel(List&lt;ModelMessage&gt; messages) {
<span class="nc" id="L1955">	}</span>

	/**
	 * Show save dialog.
	 *
	 * @param directory
	 *            the directory
	 * @param defaultName
	 *            the default name
	 * @return the file
	 */
	public File showSaveDialog(File directory, String defaultName) {
<span class="nc" id="L1967">		return null;</span>
	}

	/**
	 * Show scale map size dialog.
	 *
	 * @return the dimension
	 */
	public Dimension showScaleMapSizeDialog() {
<span class="nc" id="L1976">		return null;</span>
	}

	/**
	 * Show select amount dialog.
	 *
	 * @param goodsType
	 *            the goods type
	 * @param available
	 *            the available
	 * @param defaultAmount
	 *            the default amount
	 * @param needToPay
	 *            the need to pay
	 * @return the int
	 */
	public int showSelectAmountDialog(GoodsType goodsType, int available, int defaultAmount, boolean needToPay) {
<span class="nc" id="L1993">		return -1;</span>
	}

	/**
	 * Show select tribute amount dialog.
	 *
	 * @param question
	 *            the question
	 * @param maximum
	 *            the maximum
	 * @return the int
	 */
	public int showSelectTributeAmountDialog(StringTemplate question, int maximum) {
<span class="nc" id="L2006">		return -1;</span>
	}

	/**
	 * Show select destination dialog.
	 *
	 * @param unit
	 *            the unit
	 * @return the location
	 */
	public Location showSelectDestinationDialog(Unit unit) {
<span class="nc" id="L2017">		return null;</span>
	}

	/**
	 * Show start game panel.
	 *
	 * @param game
	 *            the game
	 * @param player
	 *            the player
	 * @param singlePlayerMode
	 *            the single player mode
	 */
	public void showStartGamePanel(Game game, Player player, boolean singlePlayerMode) {
<span class="nc" id="L2031">	}</span>

	/**
	 * Show statistics panel.
	 */
	public void showStatisticsPanel() {
<span class="nc" id="L2037">	}</span>

	/**
	 * Show status panel.
	 *
	 * @param message
	 *            the message
	 */
	public void showStatusPanel(String message) {
<span class="nc" id="L2046">	}</span>

	/**
	 * Show tile pop up at selected tile.
	 */
	public void showTilePopUpAtSelectedTile() {
<span class="nc" id="L2052">	}</span>

	/**
	 * Show trade route panel.
	 *
	 * @param unit
	 *            the unit
	 */
	public void showTradeRoutePanel(Unit unit) {
<span class="nc" id="L2061">	}</span>

	/**
	 * Show victory dialog.
	 *
	 * @param handler
	 *            the handler
	 */
	public void showVictoryDialog(DialogHandler&lt;Boolean&gt; handler) {
<span class="nc" id="L2070">	}</span>

	/**
	 * Update game options.
	 */
	public void updateGameOptions() {
<span class="nc" id="L2076">	}</span>

	/**
	 * Update map generator options.
	 */
	public void updateMapGeneratorOptions() {
<span class="nc" id="L2082">	}</span>

	/**
	 * Center active unit.
	 */
	public void centerActiveUnit() {
<span class="nc" id="L2088">	}</span>

	/**
	 * Change view mode.
	 *
	 * @param newViewMode
	 *            the new view mode
	 */
	public void changeViewMode(int newViewMode) {
<span class="nc" id="L2097">	}</span>

	/**
	 * Gets the active unit.
	 *
	 * @return the active unit
	 */
	public Unit getActiveUnit() {
<span class="nc" id="L2105">		return null;</span>
	}

	/**
	 * Gets the focus.
	 *
	 * @return the focus
	 */
	public Tile getFocus() {
<span class="nc" id="L2114">		return null;</span>
	}

	/**
	 * Gets the selected tile.
	 *
	 * @return the selected tile
	 */
	public Tile getSelectedTile() {
<span class="nc" id="L2123">		return null;</span>
	}

	/**
	 * Gets the view mode.
	 *
	 * @return the view mode
	 */
	public int getViewMode() {
<span class="nc" id="L2132">		return -1;</span>
	}

	/**
	 * Sets the focus.
	 *
	 * @param tileToFocus
	 *            the new focus
	 */
	public void setFocus(Tile tileToFocus) {
<span class="nc" id="L2142">	}</span>

	/**
	 * Sets the selected tile.
	 *
	 * @param newTileToSelect
	 *            the new tile to select
	 * @return true, if successful
	 */
	public boolean setSelectedTile(Tile newTileToSelect) {
<span class="nc" id="L2152">		return true; // Pretending again.</span>
	}

	/**
	 * Toggle view mode.
	 */
	public void toggleViewMode() {
<span class="nc" id="L2159">	}</span>

	// Forwarding to SoundController, only for gui classes in need of sound

	/**
	 * Play a sound.
	 *
	 * @param sound
	 *            The sound resource to play, or if null stop playing.
	 */
	public void playSound(String sound) {
<span class="nc" id="L2170">		freeColClient.getSoundController().playSound(sound);</span>
<span class="nc" id="L2171">	}</span>

	/**
	 * Plays an alert sound for an information message if the option for it is
	 * turned on.
	 */
	private void alertSound() {
<span class="nc bnc" id="L2178" title="All 2 branches missed.">		if (freeColClient.getClientOptions().getBoolean(ClientOptions.AUDIO_ALERTS)) {</span>
<span class="nc" id="L2179">			freeColClient.getSoundController().playSound(&quot;sound.event.alertSound&quot;);</span>
		}
<span class="nc" id="L2181">	}</span>

	/**
	 * Get the label text for the sound player mixer.
	 *
	 * Needed by the audio mixer option UI.
	 *
	 * @return The text.
	 */
	public String getSoundMixerLabelText() {
<span class="nc" id="L2191">		return freeColClient.getSoundController().getSoundMixerLabelText();</span>
	}

	// invoke method forwarding

	/**
	 * Wrapper for SwingUtilities.invokeLater that handles the case where we are
	 * already in the EDT.
	 *
	 * @param runnable
	 *            A &lt;code&gt;Runnable&lt;/code&gt; to run.
	 */
	public void invokeNowOrLater(Runnable runnable) {
<span class="nc bnc" id="L2204" title="All 2 branches missed.">		if (SwingUtilities.isEventDispatchThread()) {</span>
<span class="nc" id="L2205">			runnable.run();</span>
		} else {
<span class="nc" id="L2207">			SwingUtilities.invokeLater(runnable);</span>
		}
<span class="nc" id="L2209">	}</span>

	/**
	 * Wrapper for SwingUtilities.invokeAndWait that handles the case where we
	 * are already in the EDT.
	 *
	 * @param runnable
	 *            A &lt;code&gt;Runnable&lt;/code&gt; to run.
	 */
	public void invokeNowOrWait(Runnable runnable) {
<span class="nc bnc" id="L2219" title="All 2 branches missed.">		if (SwingUtilities.isEventDispatchThread()) {</span>
<span class="nc" id="L2220">			runnable.run();</span>
		} else {
			try {
<span class="nc" id="L2223">				SwingUtilities.invokeAndWait(runnable);</span>
<span class="nc" id="L2224">			} catch (InterruptedException | InvocationTargetException ex) {</span>
<span class="nc" id="L2225">				logger.log(Level.WARNING, &quot;Client GUI interaction&quot;, ex);</span>
<span class="nc" id="L2226">			}</span>
		}
<span class="nc" id="L2228">	}</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>